# (1) DevStack 설치

## 1. 배경

인프라 관리 API 테스트 및 검증을 위해 OpenStack 설치가 필요하였다. 

손쉽게 설치하기 위하여, DevStack으로 필요 환경을 구축하였다. 

## 2. 개요

- Mac mini
- UTM
- VM 구성
    - ubuntu-24.04.3-live-server-arm64
    - 구체 내용
        
        ![image.png]((1)%20DevStack%20%EC%84%A4%EC%B9%98%20253e19595aec8099a57bc3000a9a0ffb/image.png)
        
- 클립보드 사용 위해 mac terminal에서 ssh 접속 후 작업 진행

## 3. 설치 과정

설치는 DevStack Documentation을 참고하였다. 

[DevStack — DevStack  documentation](https://docs.openstack.org/devstack/latest/)

### 3-1. VM 생성

![KakaoTalk_Photo_2025-08-19-00-39-22.png]((1)%20DevStack%20%EC%84%A4%EC%B9%98%20253e19595aec8099a57bc3000a9a0ffb/KakaoTalk_Photo_2025-08-19-00-39-22.png)

![KakaoTalk_Photo_2025-08-19-00-39-26.png]((1)%20DevStack%20%EC%84%A4%EC%B9%98%20253e19595aec8099a57bc3000a9a0ffb/KakaoTalk_Photo_2025-08-19-00-39-26.png)

### 3-2. DevStack 설치

```bash
ls
git clone https://opendev.org/openstack/devstack

# 루트 경로에 devstack 폴더 생성 완료
cd devstack

vi local.conf
# 아래와 같이 작성
## [[local|localrc]]
## ADMIN_PASSWORD=secret
## DATABASE_PASSWORD=$ADMIN_PASSWORD
## RABBIT_PASSWORD=$ADMIN_PASSWORD
## SERVICE_PASSWORD=$ADMIN_PASSWORD

./stack.sh
# 설치는 15-20분 가량 소요
# 2025-08-18 14:17:03.327 | stack.sh completed in 911 seconds
```

![KakaoTalk_Photo_2025-08-19-00-40-34.png]((1)%20DevStack%20%EC%84%A4%EC%B9%98%20253e19595aec8099a57bc3000a9a0ffb/KakaoTalk_Photo_2025-08-19-00-40-34.png)

### 3-3. 설치 확인

- DevStack은 기본적으로 Apache httpd를 프론트엔드 웹 서버로 두고,
각 OpenStack 서비스(Keystone, Nova API, Cinder API …)를 mod_wsgi라는 Apache 모듈을 통해 실행시킨다.
- 즉, 프로세스들이 5000/8774 같은 개별 포트를 직접 열지 않고, Apache 포트(80, 443) 뒤에 붙어서 요청을 받는 형태이다
- ⇒ sudo ss -lntp에도 apache만 조회된다.

```bash
source devstack/openrc admin admin

openstack service list
openstack compute service list
openstack volume service list
openstack network agent list

sudo ss -lntp | grep ':80'

openstack endpoint list
```

![image.png]((1)%20DevStack%20%EC%84%A4%EC%B9%98%20253e19595aec8099a57bc3000a9a0ffb/image%201.png)

- 이렇게 출력된다면 정상적으로 설치 완료